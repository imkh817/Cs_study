## λ°λ³µμ ν¨ν„΄μ΄λ€?β

`λ°λ³µμ(μ΄ν„°λ μ΄ν„°)` ν¨ν„΄μ€ μ΄ν„°λ μ΄ν„°λ¥Ό μ‚¬μ©ν•μ—¬ μ»¬λ ‰μ…μ μ”μ†λ“¤μ— μ ‘κ·Όν•λ” λ””μμΈ ν¨ν„΄μ΄λ‹¤.<br>
μ΄λ¥Ό ν†µν•΄ μνν•  μ μλ” μ—¬λ¬κ°€μ§€ `μλ£ν•μ κµ¬μ΅°μ™€λ” μƒκ΄€μ—†μ΄ μ΄ν„°λ μ΄ν„°λΌλ” ν•λ‚μ μΈν„°νμ΄μ¤λ΅ μνκ°€ κ°€λ¥ν•λ‹¤.`<br>

![ConcreteAggregate.png](..%2F..%2F..%2F..%2F..%2F..%2F..%2F..%2FLibrary%2FContainers%2Fcom.apple.Notes%2FData%2Ftmp%2FTemporaryItems%2FNSIRD_%EB%A9%94%EB%AA%A8_PwzQZ1%2FHardLinkURLTemp%2FAE2E4637-4037-4696-BCFD-49459973D57C%2F1706624450%2FConcreteAggregate.png)


**Iterator (λ°λ³µμ):**
- `Iterator`λ” μ§‘ν•©μ²΄μ μ”μ†λ“¤μ„ μμ„λ€λ΅ κ²€μƒ‰ν•κΈ° μ„ν• μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ‹¤.
- μΌλ°μ μΌλ΅ `hasNext()` λ©”μ„λ“λ΅ λ‹¤μ μ”μ†μ μ΅΄μ¬ μ—¬λ¶€λ¥Ό ν™•μΈν•κ³ , `next()` λ©”μ„λ“λ΅ λ‹¤μ μ”μ†λ¥Ό λ°ν™ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈκ°€ μ§‘ν•©μ²΄μ κµ¬μ΅°λ¥Ό μ•μ§€ λ»ν•κ³ λ„ μ”μ†μ— μ ‘κ·Όν•  μ μλ„λ΅ ν•λ‹¤.

**ConcreteIterator (κµ¬μ²΄μ μΈ λ°λ³µμ):**
- `ConcreteIterator`λ” `Iterator` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤.
- μ‹¤μ λ΅ μ§‘ν•©μ²΄μ μ”μ†λ¥Ό μνν•κ³ , `Iterator` μΈν„°νμ΄μ¤μ—μ„ μ •μλ λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ‹¤.
- μ§‘ν•©μ²΄ λ‚΄μ νΉμ • μ„μΉλ¥Ό μ¶”μ ν•λ©΄μ„ μ”μ†μ— μ ‘κ·Όν•κ³  λ°ν™ν•λ‹¤.

**Aggregate (μ§‘ν•©μ²΄):**
- `Aggregate`λ” μ—¬λ¬ μ”μ†λ“¤λ΅ μ΄λ£¨μ–΄μ§„ μ§‘ν•©μ²΄λ¥Ό λ‚νƒ€λ‚΄λ” μΈν„°νμ΄μ¤.
- μ§‘ν•©μ²΄ λ‚΄μ μ”μ†λ“¤μ„ λ‚μ—΄ν•λ”λ° ν•„μ”ν• `Iterator`λ¥Ό μƒμ„±ν•λ” λ©”μ„λ“λ¥Ό μ •μν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈκ°€ μ§‘ν•©μ²΄ λ‚΄λ¶€ κµ¬μ΅°μ— λ€ν• μ„Έλ¶€ μ •λ³΄ μ—†μ΄λ„ μ”μ†λ“¤μ„ μνν•  μ μλ„λ΅ ν•λ‹¤.

**ConcreteAggregate (κµ¬μ²΄μ μΈ μ§‘ν•©μ²΄):**
- `ConcreteAggregate`λ” `Aggregate` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤.
- μ‹¤μ λ΅ μ—¬λ¬ μ”μ†λ“¤μ„ κ°€μ§€κ³  μμΌλ©°, `Aggregate` μΈν„°νμ΄μ¤μ—μ„ μ •μλ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ—¬ μ μ ν• `ConcreteIterator`λ¥Ό μƒμ„±ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈκ°€ `ConcreteIterator`λ¥Ό ν†µν•΄ μ§‘ν•©μ²΄μ μ”μ†λ“¤μ„ λ°λ³µν•  μ μλ„λ΅ ν•λ‹¤
***
## μμ‹ π“
```java
// Iterator μΈν„°νμ΄μ¤
interface Iterator {
    boolean hasNext();
    Object next();
}

// ConcreteIterator ν΄λμ¤
class ConcreteIterator implements Iterator {
    private String[] elements;
    private int index = 0;

    public ConcreteIterator(String[] elements) {
        this.elements = elements;
    }

    @Override
    public boolean hasNext() {
        return index < elements.length;
    }

    @Override
    public Object next() {
        if (hasNext()) {
            return elements[index++];
        } else {
            return null;
        }
    }
}

// Aggregate μΈν„°νμ΄μ¤
interface Aggregate {
    Iterator createIterator();
}

// ConcreteAggregate ν΄λμ¤
class ConcreteAggregate implements Aggregate {
    private String[] elements;

    public ConcreteAggregate(String[] elements) {
        this.elements = elements;
    }

    @Override
    public Iterator createIterator() {
        return new ConcreteIterator(elements);
    }
}
```
***
## λ°λ³µμ ν¨ν„΄ μ μ© μ „ β—οΈ
```java 
public static void main(String[] args) {
// 1. κ²μ‹ν μƒμ„±
Board board = new Board();

    // 2. κ²μ‹νμ— κ²μ‹κΈ€μ„ ν¬μ¤ν…
    board.addPost("λ””μμΈ ν¨ν„΄ κ°•μ λ¦¬λ·°", LocalDate.of(2020, 8, 30));
    board.addPost("κ²μ„ ν•μ‹¤λ¶„", LocalDate.of(2020, 2, 6));
    board.addPost("μ΄κ±° μ–΄λ–»κ² ν•λ‚μ”?", LocalDate.of(2020, 6, 1));
    board.addPost("μ΄κ±° μ–΄λ–»κ² ν•λ‚μ”?", LocalDate.of(2021, 12, 22));

    List<Post> posts = board.getPosts();
    
    // 3. κ²μ‹κΈ€ λ°ν–‰ μμ„λ€λ΅ μ΅°νν•κΈ°
    for (int i = 0; i < posts.size(); i++) {
        Post post = posts.get(i);
        System.out.println(post.title + " / " + post.date);
    }

    // 4. κ²μ‹κΈ€ λ‚ μ§λ³„λ΅ μ΅°νν•κΈ°
    Collections.sort(posts, (p1, p2) -> p1.date.compareTo(p2.date)); // μ§‘ν•©μ²΄λ¥Ό λ‚ μ§λ³„λ΅ μ •λ ¬
    for (int i = 0; i < posts.size(); i++) {
        Post post = posts.get(i);
        System.out.println(post.title + " / " + post.date);
    }
}
```
μΌλ°μ μΌλ΅ forλ¬Έμ„ λλ ¤ μ§‘ν•©μ²΄μ μ”μ†λ“¤μ„ μνν•μ€λ‹¤. κ·Έλ¬λ‚ μ΄λ¬ν• κµ¬μ„± λ°©μ‹μ€ Boardμ— λ“¤μ–΄κ°„ Postλ¥Ό μνν•  λ•, Boardκ°€ μ–΄λ– ν• κµ¬μ΅°λ΅ μ΄λ£¨μ–΄μ Έ μλ”μ§€λ¥Ό **ν΄λΌμ΄μ–ΈνΈ**μ— λ…Έμ¶λλ‹¤.
<br>
***
## λ°λ³µμ ν¨ν„΄ μ μ© ν›„ β—οΈ
```java
// μ €μ¥ μμ„ μ΄ν„°λ μ΄ν„°
class ListPostIterator implements Iterator<Post> {
    private Iterator<Post> itr;

    public ListPostIterator(List<Post> posts) {
        this.itr = posts.iterator();
    }

    @Override
    public boolean hasNext() {
        return this.itr.hasNext(); // μλ°” λ‚΄λ¶€ μ΄ν„°λ μ΄ν„°μ— μ„μ„ν•΄ λ²„λ¦Ό
    }

    @Override
    public Post next() {
        return this.itr.next(); // μλ°” λ‚΄λ¶€ μ΄ν„°λ μ΄ν„°μ— μ„μ„ν•΄ λ²„λ¦Ό
    }
}

// λ‚ μ§ μμ„ μ΄ν„°λ μ΄ν„°
class DatePostIterator implements Iterator<Post> {
    private Iterator<Post> itr;

    public DatePostIterator(List<Post> posts) {
        // μµμ‹  κΈ€ λ©λ΅μ΄ λ¨Όμ € μ¤λ„λ΅ μ •λ ¬
        Collections.sort(posts, (p1, p2) -> p1.date.compareTo(p2.date));
        this.itr = posts.iterator();
    }

    @Override
    public boolean hasNext() {
        return this.itr.hasNext(); // μλ°” λ‚΄λ¶€ μ΄ν„°λ μ΄ν„°μ— μ„μ„ν•΄ λ²„λ¦Ό
    }

    @Override
    public Post next() {
        return this.itr.next(); // μλ°” λ‚΄λ¶€ μ΄ν„°λ μ΄ν„°μ— μ„μ„ν•΄ λ²„λ¦Ό
    }
}

```
```java
class Board {
// κ²μ‹κΈ€μ„ λ¦¬μ¤νΈ μ§‘ν•© κ°μ²΄λ΅ μ €μ¥ κ΄€λ¦¬
List<Post> posts = new ArrayList<>();

    public void addPost(String title, LocalDate date) {
        this.posts.add(new Post(title, date));
    }

    public List<Post> getPosts() {
        return posts;
    }

    // ListPostIterator μ΄ν„°λ μ΄ν„° κ°μ²΄ λ°ν™
    public Iterator<Post> getListPostIterator() {
        return new ListPostIterator(posts);
    }

    // DatePostIterator μ΄ν„°λ μ΄ν„° κ°μ²΄ λ°ν™
    public Iterator<Post> getDatePostIterator() {
        return new DatePostIterator(posts);
    }
}
```
```java
public static void main(String[] args) {
    // 1. κ²μ‹ν μƒμ„±
    Board board = new Board();

    // 2. κ²μ‹νμ— κ²μ‹κΈ€μ„ ν¬μ¤ν…
    board.addPost("λ””μμΈ ν¨ν„΄ κ°•μ λ¦¬λ·°", LocalDate.of(2020, 8, 30));
    board.addPost("κ²μ„ ν•μ‹¤λ¶„", LocalDate.of(2020, 2, 6));
    board.addPost("μ΄κ±° μ–΄λ–»κ² ν•λ‚μ”?", LocalDate.of(2020, 6, 1));
    board.addPost("μ΄κ±° μ–΄λ–»κ² ν•λ‚μ”?", LocalDate.of(2021, 12, 22));

    // κ²μ‹κΈ€ λ°ν–‰ μμ„λ€λ΅ μ΅°νν•κΈ°
    print(board.getListPostIterator());

    // κ²μ‹κΈ€ λ‚ μ§λ³„λ΅ μ΅°νν•κΈ°
    print(board.getDatePostIterator());
}

public static void print(Iterator<Post> iterator) {
    Iterator<Post> itr = iterator;
    while(itr.hasNext()) {
        Post post = itr.next();
        System.out.println(post.title + " / " + post.date);
    }
}
```
μ΄μ  ν΄λΌμ΄μ–ΈνΈλ” κ²μ‹κΈ€μ„ μνν•  λ• Board λ‚΄λ¶€κ°€ μ–΄λ–¤ μ§‘ν•©μ²΄λ΅ κµ¬ν„(Array, List, Tree, Queue ..λ“±) λμ–΄ μλ”μ§€ μ• μ μ—†κ² κ°μ¶”κ³  μ „ν€ μ‹ κ²½ μ“Έ ν•„μ”κ°€ μ—†κ² λμ—λ‹¤. κ·Έλ¦¬κ³  μν μ „λµμ„ κ° κ°μ²΄λ΅ λ‚λ”μΌλ΅μ¨ λ•μ— λ”°λΌ μ μ ν• μ΄ν„°λ μ΄ν„° κ°μ²΄λ§ λ°›μΌλ©΄ λ‘κ°™μ€ μ΄ν„°λ μ΄ν„° μν μ½”λ“λ΅ λ‹¤μ–‘ν• μν μ „λµμ„ κµ¬μ‚¬ν•  μ μκ² λμ—λ‹¤.<br>
***
### λ°λ³µμ ν¨ν„΄μ μ¥μ  π¤©
1. μΌκ΄€λ μ΄ν„°λ μ΄ν„° μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄ μ—¬λ¬ ν•νƒμ μ»¬λ ‰μ…μ— λ€ν•΄ `λ™μΌν• μν λ°©λ²•`μ„ μ κ³µν•λ‹¤.
2. μ»¬λ ‰μ…μ λ‚΄λ¶€ κµ¬μ΅° λ° `μν λ°©μ‹μ„ μ•μ§€ μ•μ•„λ„ λλ‹¤.`
3. μ§‘ν•©μ²΄μ κµ¬ν„κ³Ό μ ‘κ·Όν•λ” μ²λ¦¬ λ¶€λ¶„μ„ λ°λ³µμ κ°μ²΄λ΅ `λ¶„λ¦¬ν•΄` κ²°ν•©λ„Visit Websiteλ¥Ό μ¤„ μΌ μ μλ‹¤.
4. Clientμ—μ„ iteratorλ΅ μ ‘κ·Όν•κΈ° λ•λ¬Έμ— ConcreteAggregate λ‚΄μ— μμ • μ‚¬ν•­μ΄ μƒκ²¨λ„ `iteratorμ— λ¬Έμ κ°€ μ—†λ‹¤λ©΄ λ¬Έμ κ°€ λ°μƒν•μ§€ μ•λ”λ‹¤.`
5. μν μ•κ³ λ¦¬μ¦μ„ λ³„λ„μ λ°λ³µμ κ°μ²΄μ— μ¶”μ¶ν•μ—¬ `κ° ν΄λμ¤μ μ±…μ„μ„ λ¶„λ¦¬`ν•μ—¬ λ‹¨μΌ μ±…μ„ μ›μΉ™(SRP)Visit Websiteλ¥Ό μ¤€μν•λ‹¤.
6. λ°μ΄ν„° μ €μ¥ μ»¬λ ‰μ… μΆ…λ¥κ°€ λ³€κ²½λμ–΄λ„ ν΄λΌμ΄μ–ΈνΈ κµ¬ν„ μ½”λ“λ” μ†μƒλμ§€ μ•μ•„ `μμ •μ—λ” λ‹«ν€ μμ–΄ κ°λ°© νμ‡„ μ›μΉ™(OCP)Visit Websiteλ¥Ό μ¤€μν•λ‹¤.`<br>

### λ°λ³µμ ν¨ν„΄μ λ‹¨μ  π¥²
1. λ§μΌ μ•±μ΄ κ°„λ‹¨ν• μ»¬λ ‰μ…μ—μ„λ§ μ‘λ™ν•λ” κ²½μ° ν¨ν„΄μ„ μ μ©ν•λ” κ²ƒμ€ `λ³µμ΅λ„λ§ μ¦κ°€ν•  μ μλ‹¤.`
2. μ΄ν„°λ μ΄ν„° κ°μ²΄λ¥Ό λ§λ“λ” κ²ƒμ΄ μ μ©ν• μƒν™©μΈμ§€ νλ‹¨ν•  ν•„μ”κ°€ μλ‹¤.
3. κµ¬ν„ λ°©λ²•μ— λ”°λΌ `μΊ΅μν™”λ¥Ό μ„λ°°ν•  μ μλ‹¤.`<br>
<br><br>
μ¶μ²: https://inpa.tistory.com/entry/GOF-π’ -λ°λ³µμIterator-ν¨ν„΄-μ™„λ²½-λ§μ¤ν„°ν•κΈ° [Inpa Dev π‘¨β€π’»:ν‹°μ¤ν† λ¦¬]